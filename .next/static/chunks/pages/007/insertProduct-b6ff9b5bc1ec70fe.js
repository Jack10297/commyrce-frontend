(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[175],{1041:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/007/insertProduct",function(){return n(3428)}])},3428:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var s=n(4051),r=n.n(s),a=n(5893),l=n(7294),o=n(9669),i=n.n(o);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),s.forEach((function(t){c(e,t,n[t])}))}return e}function u(e){var t=e.setAdmin,n=(0,l.useState)({username:"",password:""}),s=n[0],r=n[1],o=(0,l.useState)(""),c=o[0],u=o[1];return(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center h-screen",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"absolute w-40 h-0.5 bg-red-600"}),(0,a.jsx)("h1",{className:"font-sans text-3xl font-semibold antialiased mb-24 md:mb-12 mt-4",children:"ADMIN"})]}),(0,a.jsxs)("form",{className:"w-full max-w-sm",onSubmit:function(e){e.preventDefault(),i()({method:"post",url:"".concat("https://3.109.117.93/","authenticate-admin"),data:{username:s.username,password:s.password},withCredentials:!0}).then((function(e){var n=e.data,s=n.state,r=n.success;n.msg;"LOGGED_IN"===s&&r&&t("LOGGED_IN")})).catch((function(e){return u(e.response.data.msg)}))},children:[(0,a.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[(0,a.jsx)("div",{className:"md:w-1/3",children:(0,a.jsx)("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",htmlFor:"inline-full-name",children:"Sign In"})}),(0,a.jsx)("div",{className:"md:w-2/3",children:(0,a.jsx)("input",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",id:"inline-full-name",type:"text",onChange:function(e){return r(d({},s,{username:e.target.value}))},value:s.username,autoComplete:"off",required:!0})})]}),(0,a.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[(0,a.jsx)("div",{className:"md:w-1/3",children:(0,a.jsx)("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",htmlFor:"inline-password",children:"Password"})}),(0,a.jsx)("div",{className:"md:w-2/3",children:(0,a.jsx)("input",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",id:"inline-password",type:"password",onChange:function(e){return r(d({},s,{password:e.target.value}))},value:s.password,autoComplete:"off",required:!0})})]}),(0,a.jsxs)("div",{className:"md:flex md:items-center",children:[(0,a.jsx)("div",{className:"md:w-1/3"}),(0,a.jsx)("div",{className:"md:w-2/3",children:(0,a.jsx)("button",{className:"shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded",type:"submit",value:"submit",children:"Sign In"})})]}),c?(0,a.jsx)("h1",{className:"font-medium",children:c}):""]})]})}function m(e,t,n,s,r,a,l){try{var o=e[a](l),i=o.value}catch(c){return void n(c)}o.done?t(i):Promise.resolve(i).then(s,r)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),s.forEach((function(t){p(e,t,n[t])}))}return e}function b(){var e=(0,l.useState)(null),t=e[0],n=e[1],s=(0,l.useState)({productName:"",price:0,discount:0,discountedPrice:0,category:"electronics",description:"",image:null}),o=s[0],c=s[1],d=(0,l.useState)(!1),p=d[0],b=d[1],h=(0,l.useState)({state:!1,message:""}),x=h[0],g=h[1],w=(0,l.useRef)(null);(0,l.useEffect)((function(){i()({method:"post",url:"".concat("https://3.109.117.93/","007"),withCredentials:!0}).then((function(e){var t=e.data,s=t.state,r=t.success;t.msg;"SIGNED_IN"===s&&r&&n("SIGNED_IN")})).catch((function(e){return g({state:!0,message:e.response.data.msg})}))}),[]),(0,l.useEffect)((function(){var e=o.discount/100*o.price,t=o.price-e;c(f({},o,{discountedPrice:t}))}),[o.discount]);var y=function(){var e,t=(e=r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,i()({method:"post",url:"".concat("https://3.109.117.93/","insert"),data:o,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data.success||(g({state:!0,message:e.data.msg}),setTimeout((function(){return g({state:!1,message:""})}),3e3)),e.data.success&&(b(!0),setTimeout((function(){return b(!1)}),3e3),c(f({},o,{productName:"",price:0,discount:0,discountedPrice:0,category:"electronics",description:""})),w.current.value=null)})).catch((function(e){return g({state:!0,message:e.response.data.msg})}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(s,r){var a=e.apply(t,n);function l(e){m(a,s,r,l,o,"next",e)}function o(e){m(a,s,r,l,o,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();return t?(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center h-screen",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"absolute w-40 h-0.5 bg-red-600"}),(0,a.jsx)("h1",{className:"font-sans text-3xl font-semibold antialiased mb-24 md:mb-12 mt-4",children:"Add Product"})]}),(0,a.jsxs)("form",{className:"w-full max-w-sm",onSubmit:y,encType:"multipart/form-data",children:[p?(0,a.jsx)("div",{className:"absolute top-0 left-0 h-screen w-screen bg-slate-500/50 z-10",children:(0,a.jsx)("h1",{className:"absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] px-2 py-4 font-bold rounded-md bg-lime-600 text-white drop-shadow-2xl z-20",children:"Product Added Successfully!"})}):"",x.state?(0,a.jsx)("div",{className:"absolute top-0 left-0 h-screen w-screen bg-slate-500/50 z-10",children:(0,a.jsx)("h1",{className:"absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] px-2 py-4 font-bold rounded-md bg-red-500 text-white drop-shadow-2xl z-20",children:x.message})}):"",(0,a.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[(0,a.jsx)("div",{className:"md:w-1/3",children:(0,a.jsx)("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",htmlFor:"inline-full-name",children:"Product Name"})}),(0,a.jsx)("div",{className:"md:w-2/3",children:(0,a.jsx)("input",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",id:"inline-full-name",type:"text",onChange:function(e){return c(f({},o,{productName:e.target.value}))},value:o.productName,autoComplete:"off",required:!0})})]}),(0,a.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[(0,a.jsx)("div",{className:"md:w-1/3",children:(0,a.jsx)("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",htmlFor:"inline-password",children:"Price"})}),(0,a.jsx)("div",{className:"md:w-2/3",children:(0,a.jsx)("input",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",id:"inline-password",type:"number",onChange:function(e){return c(f({},o,{price:e.target.value}))},value:o.price,autoComplete:"off",required:!0,min:"0",step:"any"})})]}),(0,a.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[(0,a.jsx)("div",{className:"md:w-1/3",children:(0,a.jsx)("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",htmlFor:"inline-password",children:"Discount"})}),(0,a.jsx)("div",{className:"md:w-2/3",children:(0,a.jsx)("input",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",id:"inline-password",type:"number",onChange:function(e){return c(f({},o,{discount:e.target.value}))},value:o.discount,autoComplete:"off",required:!0})})]}),(0,a.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[(0,a.jsx)("div",{className:"md:w-1/3",children:(0,a.jsx)("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",htmlFor:"inline-full-name",children:"Category Name"})}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"mb-3 xl:w-full",children:(0,a.jsxs)("select",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500","aria-label":"Default select example",onChange:function(e){return c(f({},o,{category:e.target.value}))},value:o.category,children:[(0,a.jsx)("option",{value:"electronics",selected:"selected",children:"Electronics"}),(0,a.jsx)("option",{value:"mobiles and accessories",children:"Mobiles and Accessories"}),(0,a.jsx)("option",{value:"tools",children:"Tools"}),(0,a.jsx)("option",{value:"appliances",children:"Appliances"})]})})})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"mb-3 xl:w-96",children:[(0,a.jsx)("label",{htmlFor:"exampleFormControlTextarea1",className:"block text-gray-500 font-bold mb-1 md:mb-0 pr-4",children:"Description"}),(0,a.jsx)("textarea",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",id:"exampleFormControlTextarea1",rows:"3",placeholder:"Add Description...",onChange:function(e){return c(f({},o,{description:e.target.value}))},value:o.description})]})}),(0,a.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[(0,a.jsx)("div",{className:"md:w-1/3",children:(0,a.jsx)("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",htmlFor:"inline-full-name",children:"Image"})}),(0,a.jsx)("div",{className:"md:w-2/3",children:(0,a.jsx)("input",{ref:w,className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",id:"inline-full-name",type:"file",name:"image",onChange:function(e){return c(f({},o,{image:e.target.files[0]}))},accept:"image/x-png,image/gif,image/jpeg",autoComplete:"off",required:!0})})]}),(0,a.jsxs)("div",{className:"md:flex md:items-center",children:[(0,a.jsx)("div",{className:"md:w-1/3"}),(0,a.jsx)("div",{className:"md:w-2/3",children:(0,a.jsx)("button",{className:"shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded",type:"submit",value:"submit",children:"Submit"})})]})]})]}):(0,a.jsx)(u,{setAdmin:function(e){n(e)}})}}},function(e){e.O(0,[669,774,888,179],(function(){return t=1041,e(e.s=t);var t}));var t=e.O();_N_E=t}]);